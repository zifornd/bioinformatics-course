<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Software installation</title>
    <meta charset="utf-8" />
    <meta name="author" content="James Ashmore • 20-Sep-2022" />
    <script src="libs/header-attrs-2.16/header-attrs.js"></script>
    <link href="libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
    <link href="libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
    <link id="font-awesome-1-attachment" rel="attachment" href="libs/font-awesome-5.1.0/fonts/fontawesome-webfont.ttf"/>
    <link rel="stylesheet" href="assets/slide.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Software installation
]
.author[
### <b>James Ashmore</b> • 20-Sep-2022
]
.institute[
### Zifo RnD Solutions
]

---

exclude: true
count: false


&lt;link href="https://fonts.googleapis.com/css?family=Roboto|Source+Sans+Pro:300,400,600|Ubuntu+Mono&amp;amp;subset=latin-ext" rel="stylesheet"&gt;
&lt;link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"&gt;





&lt;!-- ------------ Only edit title, subtitle &amp; author above this ------------ --&gt;

---

# Introduction

.pull-left-50[

* Most bioinformatics work is computational and can be resource intensive

* Computer setups are often very personal and require lots of customization

* You first need to think about the following options for setting up your computer:

  * Operating system
  
  * Text editor
  
  * Software
  
  * Reproducibility

* When you are comfortable with your setup, you will probably never want to change!

]

.pull-right-50[

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="data/software/xkcd-borrow-your-laptop.png" alt="xkcd: Borrow Your Laptop" width="80%" /&gt;
&lt;p class="caption"&gt;xkcd: Borrow Your Laptop&lt;/p&gt;
&lt;/div&gt;

]

---

## Operating system

* Most bioinformatics work is performed on Unix machines (Linux or macOS)

* Why is this? Are we snobby about Windows machines? There are *plenty* of reasons

  1. Most bioinformatics tools are only available on Linux
  
  2. Linux has built-in programming languages (eg. Perl and Python)
  
  3. Linux has built-in text-handling utilities (eg. awk, sed, grep)
  
  2. Windows is very slow at processing large data (eg. Notepad size limitation of 58 Mb)
  
  5. Linux is free and open-source
  
* See this [article](https://towardsdatascience.com/why-do-bioinformaticians-avoid-using-windows-c5acb034f63c) for more details and this [ question](https://www.biostars.org/p/11085/) for a lot more reasons

* In short, Unix is the easiest way to run, develop, and analyse bioinformatics data

&lt;br&gt;

In 2021, Microsoft developed a [Windows Subsystem for Linux (WSL)](https://docs.microsoft.com/en-us/windows/wsl/) 

&gt; The Windows Subsystem for Linux lets developers run a GNU/Linux environment - including most command-line tools, utilities, and applications -directly on Windows, unmodified, without the overhead of a traditional virtual machine or dualboot setup.

---

## Text editors

* There are a huge number of text editors you can use to read and write code

* Each have their own features and shortcuts which make coding more efficient

* So which out of these should you choose? There is no *right* answer

* We suggest they meet the following minimum requirements:

  1. Syntax highlighting
  
  2. White space characters
  
  3. Line number display
  
  4. Line-ending support (DOS vs Unix)

* Do you want a command-line versus graphical user interface? We suggest *both*

  * Servers usually only have command-line editors

  * Personal computers benefit from graphical user interfaces

---

## Syntax highlighting

* Syntax highlighting is a feature of text editors that used for programming

* This feature displays text in different colors and fonts according to the category of terms

* This feature facilities coding as both structures and syntax errors are visually distinct

* With syntax highlighting it is easier to see:

  * Code comments
  * Function definitions
  * Conditional statements
  * Parameters

.pull-left-50[

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="data/software/syntax-highlighting-raw.jpg" alt="Hide syntax" width="100%" /&gt;
&lt;p class="caption"&gt;Hide syntax&lt;/p&gt;
&lt;/div&gt;

]

.pull-right-50[

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="data/software/syntax-highlighting-color.jpg" alt="Show syntax" width="100%" /&gt;
&lt;p class="caption"&gt;Show syntax&lt;/p&gt;
&lt;/div&gt;

]

---

## Whitespace characters

* Whitespace is any character or series of characters that represent horizontal space

* A single character of horizontal whitespace can be written using the `SPACEBAR` key

* Horizontal whitespace can also be written using the `TAB` key, although the **length** may vary

* Why is it important to show whitespace characters?

  * Code is often indented using whitespace and some languages require you to be consistent
  
  * Some file formats require fields to be separated using the `TAB` whitespace character
  
  * Varying whitespace to allow your code to 'breath' on the screen

.pull-left-50[

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="data/software/whitespace-hide.jpg" alt="Hide whitespace" width="100%" /&gt;
&lt;p class="caption"&gt;Hide whitespace&lt;/p&gt;
&lt;/div&gt;

]

.pull-right-50[

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="data/software/whitespace-show.jpg" alt="Show whitespace" width="100%" /&gt;
&lt;p class="caption"&gt;Show whitespace&lt;/p&gt;
&lt;/div&gt;

]

---

## Line number display

* Each line is numbered according to its order in the file

* The first line is numbered 1, the second is numbered 2, and so on

* Useful when you need to refer to specific lines in a program

* It would be impractical to count the lines of a file every time an error occurred

.pull-left-50[

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="data/software/numbering-hide.jpg" alt="Hide number" width="100%" /&gt;
&lt;p class="caption"&gt;Hide number&lt;/p&gt;
&lt;/div&gt;

]

.pull-right-50[

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="data/software/numbering-show.jpg" alt="Show number" width="100%" /&gt;
&lt;p class="caption"&gt;Show number&lt;/p&gt;
&lt;/div&gt;

]

---

## Line-ending support

* Line endings are control characters used to signify the end of a line:

  * DOS/Windows machines use CRLF - `\r\n`
  
  * Unix/macOS machines use LF - `\n`

* When transferring a file between DOS and Unix the line endings must be translated

* Check the line endings are correct if you encounter an unexpected error with a file

.pull-left-50[

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="data/software/ending-hide.jpg" alt="Hide ending" width="100%" /&gt;
&lt;p class="caption"&gt;Hide ending&lt;/p&gt;
&lt;/div&gt;

]

.pull-right-50[

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="data/software/ending-show.jpg" alt="Show ending" width="100%" /&gt;
&lt;p class="caption"&gt;Show ending&lt;/p&gt;
&lt;/div&gt;

]

---

## Text editor recommendations

* Remember, there is no *right* answer - anyone who tells you differently is just being snobby!

* You should experiment with the most popular ones and see which fits *your* workflow

* Here we suggest some text editors which meet our minimum requirements:

  * Command-line text editors: [Vim](https://www.vim.org), [GNU Emacs](https://www.gnu.org/software/emacs/), [Nano](https://www.nano-editor.org)

  * Text editors with a graphical user interface: [Atom](https://atom.io), [Sublime Text](https://www.sublimetext.com), [Visual Studio Code](https://code.visualstudio.com)
  
&lt;br&gt;

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="data/software/xkcd-text-editors.png" alt="xkcd: Real Programmers" width="60%" /&gt;
&lt;p class="caption"&gt;xkcd: Real Programmers&lt;/p&gt;
&lt;/div&gt;

---

## Software packages

.pull-left-60[

* Warning! The points below are relevant to Unix only

* The most common method of installing command line tools is through software **repositories**

* Repositories are storage locations accessible online that contain software **packages**

* Packages can be installed, upgraded, configured, and removed using a package **manager**

* Package managers differ by the Linux distribution:

  * Debian (DPKG)
  * Red Hat (RPM)
  * Pacman (Arch Linux)
  * Sypper (openSUSE)
  * Portage (Gentoo)
  
* Problem! Most bioinformatics software is not available from the default repositories

]

.pull-right-40[

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="data/software/xkcd-will-it-work.png" alt="xkcd: Will it Work" width="80%" /&gt;
&lt;p class="caption"&gt;xkcd: Will it Work&lt;/p&gt;
&lt;/div&gt;

]

---

## Conda package manager

&lt;img src="data/software/conda-logo.svg" width="20%" style="display: block; margin: auto 0 auto auto;" /&gt;

* [Conda](https://docs.conda.io/en/latest/) is an open source package management system and environment management system that runs on Windows, macOS and Linux

* It is the recommended way for users to manage their own environments and supports a wide range of programming languages

* Conda packages are distributed as binaries (compiled code) so you should never have to use a compiler to build the software

&lt;br&gt;

&lt;img src="data/software/anaconda-logo.svg" width="40%" style="display: block; margin: auto 0 auto auto;" /&gt;

* The default software repository conda uses is called [Anaconda](https://anaconda.org)

* Anaconda provides over 1,500 packages, including the most popular data science, machine learning, and AI frameworks.

* Browse packages in the Anaconda repository: [Package Index](https://anaconda.org/anaconda)

---

## Conda environments

* A conda environment is a directory that contains software packages that you have installed

* If you change one environment, your other environments are not affected

* You can easily activate or deactivate environments, which is how you switch between them

* The cartoon below shows how conda is used to manage packages and environments

&lt;br&gt;

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="data/software/conda-env-figure.jpeg" alt="Credit: Imperial College London" width="75%" /&gt;
&lt;p class="caption"&gt;Credit: Imperial College London&lt;/p&gt;
&lt;/div&gt;

---

## Environment reproducibility

* Conda allows you to reproduce a given environment on any machine

* Simply create and share a snapshot of the environment (environment.yaml)

* The environment file lists all software versions and their dependencies

* The cartoon below shows why environments are important for reproducibility

&lt;br&gt;

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="data/software/conda-env-repro.png" alt="Credit: NBIS Sweden" width="70%" /&gt;
&lt;p class="caption"&gt;Credit: NBIS Sweden&lt;/p&gt;
&lt;/div&gt;

---

## Bioconda repository

&lt;img src="data/software/bioconda-logo.png" width="30%" style="display: block; margin: auto 0 auto auto;" /&gt;

* Bioconda is a repository for conda specializing in bioinformatics software

* Browse packages in the Bioconda repository: [Package Index](http://bioconda.github.io/conda-package_index.html)

* Over 850 contributors and 570 members who help maintain the repository

* Bioconda only supports 64-bit Linux and Mac OS (Windows using WSL)

&lt;br&gt;

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="data/software/bioconda-numbers.webp" alt="Package numbers and usage (2017)" width="100%" /&gt;
&lt;p class="caption"&gt;Package numbers and usage (2017)&lt;/p&gt;
&lt;/div&gt;

---

## Anaconda example

Create a new environment (named env) and install software:


```bash
# Conda looks in the anaconda repository by default
conda create --name env python numpy scipy matplotlib
```

Activate the new environment to use it:


```bash
conda activate env
```

Run your analysis or script in the environment:


```bash
python analysis.py
```

Save environment to a text file:


```bash
conda list --explicit &gt; environment.txt
```

Deactivate the environment:


```bash
conda deactivate install
```

---

## Bioconda example

Create a new environment (named env) and install software from bioconda repository:


```bash
# Instruct conda to look in the bioconda repository
conda create --name env --channel bioconda bowtie2 samtools
```

Activate the new environment to use it:


```bash
conda activate env
```

Decide you need to install some software from the anaconda repository as well:


```bash
conda install numpy scipy matplotlib
```

Run your analysis or script in the environment:


```bash
python analysis.py
```

Deactivate the environment:


```bash
conda deactivate install
```

---

## Debugging advice

* A large part of bioinformatics is debugging software and code you have written

* You may get annoyed and think about changing careers - a totally **normal** response!

* However, give the following advice a try first:

  1. Google the error message:
  
      * Enclose the message in quotes to search for the exact text
      
      * Prioritize results from popular technology forums (eg. StackOverflow)
  
  2. Put `print` statements in your code:
  
      * Determine where the error occurs (eg. print "Here!")
      
      * Print the value of important variables
  
  3. Bring in a colleague and talk them through the problem:
  
      * Classic technique called [rubber duck debugging](https://rubberduckdebugging.com)

  4. Report the problem on the software issue tracker:
    
      * Make sure you provide all the relevant information
    
      * Also try to provide a small reproducible example

---

## Summary

* Bioinformatics work is computational and resource intensive

* Generally suited to Unix machines (availability of software)

* Choose a text editor which meets the minimum requirements:

  1. Syntax highlighting
  2. White space characters
  3. Line number display
  4. Line-ending support

* Software on Unix machines is usually installed using package managers

* Conda is an open-source package manager for Windows, Unix, and macOS

* Conda allows you to define separate environments with different software collections

* Anaconda is the default conda repository for most software 

* Bioconda is a repository specializing in bioinformatics software

* Debugging is often painful, if in doubt ask a friend for help

&lt;!-- --------------------- Do not edit this and below --------------------- --&gt;

---
name: end_slide
class: end-slide, middle
count: false

# Thank you. Questions?


.end-text[
&lt;p class="smaller"&gt;
&lt;span class="small" style="line-height: 1.2;"&gt;Graphics from &lt;/span&gt;&lt;img src="./assets/freepik.jpg" style="max-height:20px; vertical-align:middle;"&gt;&lt;br&gt;
Created: 20-Sep-2022 • James Ashmore • &lt;a href="https://www.zifornd.com"&gt;Zifo&lt;/a&gt;
&lt;/p&gt;
]


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="assets/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "4:3",
"highlightLanguage": "r",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"slideNumberFormat": "%current%/%total%"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
